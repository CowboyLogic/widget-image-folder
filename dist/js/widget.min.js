"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"));var RiseVision=RiseVision||{};RiseVision.ImageFolder={},RiseVision.ImageFolder=function(e){"use strict";function t(){var t=l.getString("id");c.width=l.getInt("rsW"),c.height=l.getInt("rsH"),d=new RiseVision.ImageFolder.Storage(c),e.rpc.register("rsparam_set_"+t,d.getCompanyId),e.rpc.call("","rsparam_get",null,t,"companyId")}function n(e,n){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(n)&&n.length>0&&(c=JSON.parse(n[0]),document.getElementById("container").style.height=l.getInt("rsH")+"px",t())}function r(){e.rpc.call("","rsevent_ready",null,l.getString("id"),!0,!0,!0,!0,!0)}function i(){e.rpc.call("","rsevent_done",null,l.getString("id"))}function a(){d.getSlider().play()}function o(){d.getSlider().pause()}function s(){o()}var c,d=null,l=new e.Prefs;return{ready:r,done:i,play:a,pause:o,stop:s,setParams:n}}(gadgets);var RiseVision=RiseVision||{};RiseVision.ImageFolder=RiseVision.ImageFolder||{},RiseVision.ImageFolder.Slider=function(e){"use strict";function t(t){var n=document.querySelector(".tp-banner ul"),r=document.createDocumentFragment(),i=[],a=null,o=null,c="";s=t.length,t.forEach(function(t){switch(a=document.createElement("li"),o=document.createElement("img"),a.setAttribute("data-transition","fade"),a.setAttribute("data-masterspeed",500),o.src=t,e.position){case"top-left":c="left top";break;case"top-center":c="center top";break;case"top-right":c="right top";break;case"middle-left":c="left center";break;case"middle-center":c="center center";break;case"middle-right":c="right center";break;case"bottom-left":c="left bottom";break;case"bottom-center":c="center bottom";break;case"bottom-right":c="right bottom";break;default:c="left top"}o.setAttribute("data-bgposition",c),e.scaleToFit?o.setAttribute("data-bgfit","contain"):o.setAttribute("data-bgfit","normal"),a.appendChild(o),i.push(a)}),i.forEach(function(e){r.appendChild(e)}),n.appendChild(r)}function n(){g=!0,clearTimeout(l),l=setTimeout(function(){g=!1,c.revnext(),c.revresume()},1e3*e.pause),r()}function r(){e.autoHide&&(clearTimeout(d),d=setTimeout(function(){$(".tp-leftarrow, .tp-rightarrow").addClass("hidearrows")},m))}function i(i){t(i),c=$(".tp-banner").revolution({delay:1e3*e.duration,hideThumbs:0,hideTimerBar:"on",navigationType:"none",onHoverStop:"off",startwidth:e.width,startheight:e.height}),c.bind("revolution.slide.onloaded",function(){c.revpause(),RiseVision.ImageFolder.ready()}),c.bind("revolution.slide.onchange",function(e,t){g?c.revpause():u&&(u=!1,c.revpause(),RiseVision.ImageFolder.done()),t.slideIndex===s&&(u=!0)}),$("body").on("touchend",".tp-banner",function(){n(),$(".tp-leftarrow, .tp-rightarrow").removeClass("hidearrows")}),$("body").on("touchend",".tp-leftarrow, .tp-rightarrow",function(){n()}),r()}function a(){c&&c.revresume()}function o(){c&&c.revpause()}var s=0,c=null,d=null,l=null,u=!1,g=!1,m=3e3;return{init:i,play:a,pause:o}};var RiseVision=RiseVision||{};RiseVision.ImageFolder=RiseVision.ImageFolder||{},RiseVision.ImageFolder.Storage=function(e){"use strict";function t(){var t=document.querySelector("rise-storage"),n="",r="";switch(t.addEventListener("rise-storage-response",function(t){a=new RiseVision.ImageFolder.Slider(e),a.init(t.detail)}),t.setAttribute("companyId",i),t.setAttribute("folder",e.storage.folder),e.order){case"alpha-asc":n="name",r="asc";break;case"alpha-desc":n="name",r="desc";break;case"date-asc":n="date",r="asc";break;case"date-desc":n="date",r="desc";break;case"random":n="random";break;default:n="name",r="asc"}t.setAttribute("sort",n),t.setAttribute("sortDirection",r),t.go()}function n(e,n){"companyId"===e&&(i=n,t())}function r(){return a}var i="",a=null;return{getCompanyId:n,getSlider:r}},function(e,t,n){"use strict";function r(){RiseVision.ImageFolder.play()}function i(){RiseVision.ImageFolder.pause()}var a=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},$(t).ready(function(){n.rpc.register("rscmd_play_"+a,r),n.rpc.register("rscmd_pause_"+a,i),n.rpc.register("rsparam_set_"+a,RiseVision.ImageFolder.setParams),n.rpc.call("","rsparam_get",null,a,["additionalParams"])})}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiSW1hZ2VGb2xkZXIiLCJnYWRnZXRzIiwiaW5pdCIsImlkIiwicHJlZnMiLCJnZXRTdHJpbmciLCJwYXJhbXMiLCJ3aWR0aCIsImdldEludCIsImhlaWdodCIsInN0b3JhZ2UiLCJTdG9yYWdlIiwicnBjIiwicmVnaXN0ZXIiLCJnZXRDb21wYW55SWQiLCJjYWxsIiwic2V0UGFyYW1zIiwibmFtZXMiLCJ2YWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJKU09OIiwicGFyc2UiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJyZWFkeSIsImRvbmUiLCJwbGF5IiwiZ2V0U2xpZGVyIiwicGF1c2UiLCJzdG9wIiwiUHJlZnMiLCJTbGlkZXIiLCJhZGRTbGlkZXMiLCJ1cmxzIiwibGlzdCIsInF1ZXJ5U2VsZWN0b3IiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJzbGlkZXMiLCJzbGlkZSIsImltYWdlIiwicG9zaXRpb24iLCJ0b3RhbFNsaWRlcyIsImZvckVhY2giLCJ1cmwiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwic3JjIiwic2NhbGVUb0ZpdCIsImFwcGVuZENoaWxkIiwicHVzaCIsImhhbmRsZVVzZXJBY3Rpdml0eSIsImlzUGF1c2VkIiwiY2xlYXJUaW1lb3V0Iiwic2xpZGVUaW1lciIsInNldFRpbWVvdXQiLCJhcGkiLCJyZXZuZXh0IiwicmV2cmVzdW1lIiwiaGlkZU5hdiIsImF1dG9IaWRlIiwibmF2VGltZXIiLCIkIiwiYWRkQ2xhc3MiLCJuYXZUaW1lb3V0IiwicmV2b2x1dGlvbiIsImRlbGF5IiwiZHVyYXRpb24iLCJoaWRlVGh1bWJzIiwiaGlkZVRpbWVyQmFyIiwibmF2aWdhdGlvblR5cGUiLCJvbkhvdmVyU3RvcCIsInN0YXJ0d2lkdGgiLCJzdGFydGhlaWdodCIsImJpbmQiLCJyZXZwYXVzZSIsImUiLCJkYXRhIiwiaXNMYXN0U2xpZGUiLCJzbGlkZUluZGV4Iiwib24iLCJyZW1vdmVDbGFzcyIsInNvcnQiLCJzb3J0RGlyZWN0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWRlciIsImRldGFpbCIsImNvbXBhbnlJZCIsImZvbGRlciIsIm9yZGVyIiwiZ28iLCJuYW1lIiwid2luZG93Iiwib25jb250ZXh0bWVudSIsImJvZHkiLCJvbm1vdXNlZG93biIsIl9nYXEiLCJnYSIsInR5cGUiLCJhc3luYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFBdUIsbUJBQVpBLFdBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHVEQUMzQkEsU0FBUyxnQkFBaUIsU0FFN0JGLFFBQVFDLE9BQU8sb0RBQ1pFLE1BQU0sZ0JBQWlCLHlGQUk1QixJQUFJQyxZQUFhQSxjQUNqQkEsWUFBV0MsZUFFWEQsV0FBV0MsWUFBYyxTQUFXQyxHQUNsQyxZQVNBLFNBQVNDLEtBQ1AsR0FBSUMsR0FBS0MsRUFBTUMsVUFBVSxLQUV6QkMsR0FBT0MsTUFBUUgsRUFBTUksT0FBTyxPQUM1QkYsRUFBT0csT0FBU0wsRUFBTUksT0FBTyxPQUM3QkUsRUFBVSxHQUFJWCxZQUFXQyxZQUFZVyxRQUFRTCxHQUU3Q0wsRUFBUVcsSUFBSUMsU0FBUyxlQUFpQlYsRUFBSU8sRUFBUUksY0FDbERiLEVBQVFXLElBQUlHLEtBQUssR0FBSSxjQUFlLEtBQU1aLEVBQUksYUFNaEQsUUFBU2EsR0FBVUMsRUFBT0MsR0FDcEJDLE1BQU1DLFFBQVFILElBQVVBLEVBQU1JLE9BQVMsR0FBa0IscUJBQWJKLEVBQU0sSUFDaERFLE1BQU1DLFFBQVFGLElBQVdBLEVBQU9HLE9BQVMsSUFDM0NmLEVBQVNnQixLQUFLQyxNQUFNTCxFQUFPLElBRTNC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LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJjb21wb25lbnRzL3J2LWNvbW1vbi1pMThuL2Rpc3QvbG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc3RvcmFnZS1zZWxlY3Rvci5jb25maWdcIilcbiAgICAudmFsdWUoXCJTVE9SQUdFX01PREFMXCIsIFwiaHR0cDovL3N0b3JhZ2UucmlzZXZpc2lvbi5jb20vfnJ2aS9zdG9yYWdlLWNsaWVudC1ydmEtdGVzdC9zdG9yYWdlLW1vZGFsLmh0bWwjL2ZpbGVzL1wiKTtcbn1cblxuLyogZ2xvYmFsIGdhZGdldHMgKi9cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2VGb2xkZXIgPSB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZUZvbGRlciA9IChmdW5jdGlvbiAoZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcGFyYW1zLFxuICAgIHN0b3JhZ2UgPSBudWxsLFxuICAgIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBpZCA9IHByZWZzLmdldFN0cmluZyhcImlkXCIpO1xuXG4gICAgcGFyYW1zLndpZHRoID0gcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIHBhcmFtcy5oZWlnaHQgPSBwcmVmcy5nZXRJbnQoXCJyc0hcIik7XG4gICAgc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlRm9sZGVyLlN0b3JhZ2UocGFyYW1zKTtcblxuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgc3RvcmFnZS5nZXRDb21wYW55SWQpO1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgXCJjb21wYW55SWRcIik7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIHNldFBhcmFtcyhuYW1lcywgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgbmFtZXNbMF0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzBdKTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBwcmVmcy5nZXRJbnQoXCJyc0hcIikgKyBcInB4XCI7XG4gICAgICAgIGluaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSwgdHJ1ZSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIHByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgc3RvcmFnZS5nZXRTbGlkZXIoKS5wbGF5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBzdG9yYWdlLmdldFNsaWRlcigpLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHBhdXNlKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwicmVhZHlcIjogcmVhZHksXG4gICAgXCJkb25lXCI6IGRvbmUsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInN0b3BcIjogc3RvcCxcbiAgICBcInNldFBhcmFtc1wiOiBzZXRQYXJhbXNcbiAgfTtcbn0pKGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlRm9sZGVyID0gUmlzZVZpc2lvbi5JbWFnZUZvbGRlciB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZUZvbGRlci5TbGlkZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciB0b3RhbFNsaWRlcyA9IDAsXG4gICAgYXBpID0gbnVsbCxcbiAgICBuYXZUaW1lciA9IG51bGwsXG4gICAgc2xpZGVUaW1lciA9IG51bGwsXG4gICAgaXNMYXN0U2xpZGUgPSBmYWxzZSxcbiAgICBpc1BhdXNlZCA9IGZhbHNlLFxuICAgIG5hdlRpbWVvdXQgPSAzMDAwO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGFkZFNsaWRlcyh1cmxzKSB7XG4gICAgdmFyIGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRwLWJhbm5lciB1bFwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgc2xpZGVzID0gW10sXG4gICAgICBzbGlkZSA9IG51bGwsXG4gICAgICBpbWFnZSA9IG51bGwsXG4gICAgICBwb3NpdGlvbiA9IFwiXCI7XG5cbiAgICB0b3RhbFNsaWRlcyA9IHVybHMubGVuZ3RoO1xuXG4gICAgdXJscy5mb3JFYWNoKGZ1bmN0aW9uKHVybCkge1xuICAgICAgc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cbiAgICAgIC8vIFRyYW5zaXRpb25cbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtdHJhbnNpdGlvblwiLCBcImZhZGVcIik7XG4gICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1hc3RlcnNwZWVkXCIsIDUwMCk7XG5cbiAgICAgIGltYWdlLnNyYyA9IHVybDtcblxuICAgICAgLy8gQWxpZ25tZW50XG4gICAgICBzd2l0Y2ggKHBhcmFtcy5wb3NpdGlvbikge1xuICAgICAgICBjYXNlIFwidG9wLWxlZnRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCB0b3BcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvcC1jZW50ZXJcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwiY2VudGVyIHRvcFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9wLXJpZ2h0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcInJpZ2h0IHRvcFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWlkZGxlLWxlZnRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCBjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1pZGRsZS1jZW50ZXJcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwiY2VudGVyIGNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWlkZGxlLXJpZ2h0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcInJpZ2h0IGNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tLWxlZnRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCBib3R0b21cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbS1jZW50ZXJcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwiY2VudGVyIGJvdHRvbVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tLXJpZ2h0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcInJpZ2h0IGJvdHRvbVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IHRvcFwiO1xuICAgICAgfVxuXG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJncG9zaXRpb25cIiwgcG9zaXRpb24pO1xuXG4gICAgICAvLyBTY2FsZSB0byBGaXRcbiAgICAgIGlmIChwYXJhbXMuc2NhbGVUb0ZpdCkge1xuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJnZml0XCIsIFwiY29udGFpblwiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJnZml0XCIsIFwibm9ybWFsXCIpO1xuICAgICAgfVxuXG4gICAgICBzbGlkZS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICBzbGlkZXMucHVzaChzbGlkZSk7XG4gICAgfSk7XG5cbiAgICBzbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSkge1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoc2xpZGUpO1xuICAgIH0pO1xuXG4gICAgbGlzdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cblxuICAvLyBVc2VyIGhhcyBpbnRlcmFjdGVkIHdpdGggdGhlIHNsaWRlc2hvdy5cbiAgZnVuY3Rpb24gaGFuZGxlVXNlckFjdGl2aXR5KCkge1xuICAgIGlzUGF1c2VkID0gdHJ1ZTtcbiAgICBjbGVhclRpbWVvdXQoc2xpZGVUaW1lcik7XG5cbiAgICAvLyBNb3ZlIHRvIG5leHQgc2xpZGUgYW5kIHJlc3VtZSB0aGUgc2xpZGVzaG93IGFmdGVyIGEgZGVsYXkuXG4gICAgc2xpZGVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgYXBpLnJldm5leHQoKTtcbiAgICAgIGFwaS5yZXZyZXN1bWUoKTtcbiAgICB9LCBwYXJhbXMucGF1c2UgKiAxMDAwKTtcblxuICAgIGhpZGVOYXYoKTtcbiAgfVxuXG4gIC8vIEhpZGUgdGhlIG5hdmlnYXRpb24gYWZ0ZXIgYSBkZWxheS5cbiAgZnVuY3Rpb24gaGlkZU5hdigpIHtcbiAgICBpZiAocGFyYW1zLmF1dG9IaWRlKSB7XG4gICAgICBjbGVhclRpbWVvdXQobmF2VGltZXIpO1xuXG4gICAgICBuYXZUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiKS5hZGRDbGFzcyhcImhpZGVhcnJvd3NcIik7XG4gICAgICB9LCBuYXZUaW1lb3V0KTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQodXJscykge1xuICAgIGFkZFNsaWRlcyh1cmxzKTtcblxuICAgIGFwaSA9ICQoXCIudHAtYmFubmVyXCIpLnJldm9sdXRpb24oe1xuICAgICAgXCJkZWxheVwiOiBwYXJhbXMuZHVyYXRpb24gKiAxMDAwLFxuICAgICAgXCJoaWRlVGh1bWJzXCI6IDAsXG4gICAgICBcImhpZGVUaW1lckJhclwiOiBcIm9uXCIsXG4gICAgICBcIm5hdmlnYXRpb25UeXBlXCI6IFwibm9uZVwiLFxuICAgICAgXCJvbkhvdmVyU3RvcFwiOiBcIm9mZlwiLFxuICAgICAgXCJzdGFydHdpZHRoXCI6IHBhcmFtcy53aWR0aCxcbiAgICAgIFwic3RhcnRoZWlnaHRcIjogcGFyYW1zLmhlaWdodFxuICAgIH0pO1xuXG4gICAgYXBpLmJpbmQoXCJyZXZvbHV0aW9uLnNsaWRlLm9ubG9hZGVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gUGF1c2Ugc2xpZGVzaG93IHNpbmNlIGl0IHdpbGwgYXV0b3BsYXkgYW5kIHRoaXMgaXMgbm90IGNvbmZpZ3VyYWJsZS5cbiAgICAgIGFwaS5yZXZwYXVzZSgpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZUZvbGRlci5yZWFkeSgpO1xuICAgIH0pO1xuXG4gICAgYXBpLmJpbmQoXCJyZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlXCIsIGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgYXBpLnJldnBhdXNlKCk7XG4gICAgICB9XG4gICAgICAvLyBEb24ndCBjYWxsIFwiZG9uZVwiIGlmIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2xpZGVzaG93LlxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChpc0xhc3RTbGlkZSkge1xuICAgICAgICAgIGlzTGFzdFNsaWRlID0gZmFsc2U7XG4gICAgICAgICAgYXBpLnJldnBhdXNlKCk7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZUZvbGRlci5kb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEuc2xpZGVJbmRleCA9PT0gdG90YWxTbGlkZXMpIHtcbiAgICAgICAgaXNMYXN0U2xpZGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU3dpcGUgdGhlIHNsaWRlci5cbiAgICAkKFwiYm9keVwiKS5vbihcInRvdWNoZW5kXCIsIFwiLnRwLWJhbm5lclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGhhbmRsZVVzZXJBY3Rpdml0eSgpO1xuICAgICAgJChcIi50cC1sZWZ0YXJyb3csIC50cC1yaWdodGFycm93XCIpLnJlbW92ZUNsYXNzKFwiaGlkZWFycm93c1wiKTtcbiAgICB9KTtcblxuICAgIC8vIFRvdWNoIHRoZSBuYXZpZ2F0aW9uIGFycm93cy5cbiAgICAkKFwiYm9keVwiKS5vbihcInRvdWNoZW5kXCIsIFwiLnRwLWxlZnRhcnJvdywgLnRwLXJpZ2h0YXJyb3dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kbGVVc2VyQWN0aXZpdHkoKTtcbiAgICB9KTtcblxuICAgIGhpZGVOYXYoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKGFwaSkge1xuICAgICAgYXBpLnJldnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlmIChhcGkpIHtcbiAgICAgIGFwaS5yZXZwYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJwYXVzZVwiOiBwYXVzZVxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZUZvbGRlciA9IFJpc2VWaXNpb24uSW1hZ2VGb2xkZXIgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2VGb2xkZXIuU3RvcmFnZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgc2xpZGVyID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInJpc2Utc3RvcmFnZVwiKSxcbiAgICAgIHNvcnQgPSBcIlwiLFxuICAgICAgc29ydERpcmVjdGlvbiA9IFwiXCI7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgc2xpZGVyID0gbmV3IFJpc2VWaXNpb24uSW1hZ2VGb2xkZXIuU2xpZGVyKHBhcmFtcyk7XG4gICAgICBzbGlkZXIuaW5pdChlLmRldGFpbCk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBjb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIHBhcmFtcy5zdG9yYWdlLmZvbGRlcik7XG5cbiAgICAvLyBTb3J0aW5nXG4gICAgc3dpdGNoIChwYXJhbXMub3JkZXIpIHtcbiAgICAgIGNhc2UgXCJhbHBoYS1hc2NcIjpcbiAgICAgICAgc29ydCA9IFwibmFtZVwiO1xuICAgICAgICBzb3J0RGlyZWN0aW9uID0gXCJhc2NcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYWxwaGEtZGVzY1wiOlxuICAgICAgICBzb3J0ID0gXCJuYW1lXCI7XG4gICAgICAgIHNvcnREaXJlY3Rpb24gPSBcImRlc2NcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0ZS1hc2NcIjpcbiAgICAgICAgc29ydCA9IFwiZGF0ZVwiO1xuICAgICAgICBzb3J0RGlyZWN0aW9uID0gXCJhc2NcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0ZS1kZXNjXCI6XG4gICAgICAgIHNvcnQgPSBcImRhdGVcIjtcbiAgICAgICAgc29ydERpcmVjdGlvbiA9IFwiZGVzY1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyYW5kb21cIjpcbiAgICAgICAgc29ydCA9IFwicmFuZG9tXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc29ydCA9IFwibmFtZVwiO1xuICAgICAgICBzb3J0RGlyZWN0aW9uID0gXCJhc2NcIjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcInNvcnRcIiwgc29ydCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJzb3J0RGlyZWN0aW9uXCIsIHNvcnREaXJlY3Rpb24pO1xuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Q29tcGFueUlkKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKG5hbWUgPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgIGNvbXBhbnlJZCA9IHZhbHVlO1xuICAgICAgaW5pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNsaWRlcigpIHtcbiAgICByZXR1cm4gc2xpZGVyO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldENvbXBhbnlJZFwiOiBnZXRDb21wYW55SWQsXG4gICAgXCJnZXRTbGlkZXJcIjogZ2V0U2xpZGVyXG4gIH07XG59O1xuXG4vKiBnbG9iYWwgUmlzZVZpc2lvbiwgZ2FkZ2V0cyAqL1xuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBpZCA9IG5ldyBnYWRnZXRzLlByZWZzKCkuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50LmJvZHkub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlRm9sZGVyLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uSW1hZ2VGb2xkZXIucGF1c2UoKTtcbiAgfVxuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGxheV9cIiArIGlkLCBwbGF5KTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcblxuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgUmlzZVZpc2lvbi5JbWFnZUZvbGRlci5zZXRQYXJhbXMpO1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gIH0pO1xufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMyddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=